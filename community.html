<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Community • Smart Waste</title>
    <link rel="icon" href="../images/leaf.svg" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              eco: { light: '#81c784', DEFAULT: '#4caf50', dark: '#3a6b35' },
              forest: '#3a6b35',
            },
            boxShadow: { soft: '0 8px 30px rgba(0,0,0,0.08)' },
          },
        },
      };
    </script>
    <link rel="stylesheet" href="../css/style.css" />
  </head>
  <body data-page="community" class="min-h-screen bg-emerald-50 text-slate-800">
    <header class="sticky top-0 z-30 bg-white/90 backdrop-blur border-b border-emerald-100">
      <nav class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16">
        <a href="../pages/index.html" class="flex items-center gap-2">
          <img src="../images/leaf.svg" alt="Logo" class="h-7 w-7" />
          <span class="font-semibold">Smart Waste</span>
        </a>
        <ul class="hidden md:flex items-center gap-6 text-sm">
          <li><a class="hover:text-eco" href="../pages/missions.html">Missions</a></li>
          <li><a class="hover:text-eco" href="../pages/leadership.html">Leadership</a></li>
          <li><a class="hover:text-eco" href="../pages/dashboard.html">Dashboard</a></li>
        </ul>
        <a id="authButton" href="../pages/login.html" class="btn-primary px-4 py-2">Login</a>
        <button class="md:hidden p-2 rounded hover:bg-emerald-100" id="mobileMenuButton" aria-label="Toggle Menu">☰</button>
      </nav>
      <div id="mobileMenu" class="md:hidden hidden border-t border-emerald-100 bg-white">
        <ul class="px-4 py-3 space-y-2">
          <li><a class="block rounded px-3 py-2 hover:bg-emerald-50" href="../pages/missions.html">Missions</a></li>
          <li><a class="block rounded px-3 py-2 hover:bg-emerald-50" href="../pages/leadership.html">Leadership</a></li>
          <li><a class="block rounded px-3 py-2 hover:bg-emerald-50" href="../pages/dashboard.html">Dashboard</a></li>
          <li><a class="block rounded px-3 py-2 hover:bg-emerald-50" id="authButtonMobile" href="../pages/login.html">Login</a></li>
        </ul>
      </div>
    </header>

    <main class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8">
      <section class="grid grid-cols-1 lg:grid-cols-3 gap-6">
        <div class="lg:col-span-2 space-y-6">
          <div class="rounded-2xl bg-white p-6 shadow-soft border border-emerald-100">
            <h1 class="text-xl font-bold text-forest">Share an Update</h1>
            <p class="text-sm text-slate-600">Post about your recycling efforts or local clean-ups.</p>
            <form id="postForm" class="mt-4 grid gap-3">
              <textarea id="postText" class="block w-full rounded-lg border border-emerald-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-eco" rows="3" placeholder="Write something eco-friendly..."></textarea>
              <div class="flex items-center justify-between gap-3">
                <div>
                  <label class="inline-flex items-center gap-2 text-sm">
                    <input id="postImage" type="file" accept="image/*" class="hidden" />
                    <span class="btn-secondary cursor-pointer select-none">Upload Image</span>
                  </label>
                  <span id="fileName" class="ml-2 text-xs text-slate-500"></span>
                </div>
                <button type="submit" class="btn-primary">Post</button>
              </div>
              <p id="postMessage" class="text-sm text-slate-600"></p>
            </form>
          </div>

          <div class="rounded-2xl bg-white p-6 shadow-soft border border-emerald-100">
            <h2 class="text-lg font-semibold text-forest">Recent Posts</h2>
            <div id="feed" class="mt-4 grid gap-4"></div>
          </div>
        </div>

        <aside class="space-y-6">
          <div class="rounded-2xl bg-white p-6 shadow-soft border border-emerald-100">
            <h2 class="font-semibold text-forest">Leaderboard</h2>
            <ol id="leaderboardList" class="mt-4 space-y-2 text-sm"></ol>
          </div>
        </aside>
      </section>
    </main>

    <footer class="mt-8 border-t border-emerald-100 bg-white/80">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6 text-sm text-slate-600 flex items-center justify-between">
        <p>© <span id="year"></span> Smart Waste Community</p>
        <a class="hover:text-eco" href="../pages/index.html">Home</a>
      </div>
    </footer>

     <script src="../js/common.js" defer></script>
     <script src="../js/community.js" defer></script>
  </body>
</html>